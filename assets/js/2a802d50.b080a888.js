"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[3133],{5318:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>s,contentTitle:()=>p,default:()=>d,frontMatter:()=>o,metadata:()=>i,toc:()=>l});var r=t(8168),a=(t(6540),t(5680));const o={id:"isolating-redux-sub-apps",title:"Isolating Redux Sub-Apps"},p="Isolating Redux Sub-Apps",i={unversionedId:"usage/isolating-redux-sub-apps",id:"usage/isolating-redux-sub-apps",title:"Isolating Redux Sub-Apps",description:"Consider the case of a \u201cbig\u201d app (contained in a `` component)",source:"@site/../docs/usage/IsolatingSubapps.md",sourceDirName:"usage",slug:"/usage/isolating-redux-sub-apps",permalink:"/usage/isolating-redux-sub-apps",draft:!1,editUrl:"https://github.com/reduxjs/redux/edit/master/website/../docs/usage/IsolatingSubapps.md",tags:[],version:"current",lastUpdatedAt:1737618502,formattedLastUpdatedAt:"Jan 23, 2025",frontMatter:{id:"isolating-redux-sub-apps",title:"Isolating Redux Sub-Apps"},sidebar:"docs",previous:{title:"Server Rendering",permalink:"/usage/server-rendering"},next:{title:"Migrating to Modern Redux",permalink:"/usage/migrating-to-modern-redux"}},s={},l=[],u={toc:l},c="wrapper";function d(e){let{components:n,...t}=e;return(0,a.yg)(c,(0,r.A)({},u,t,{components:n,mdxType:"MDXLayout"}),(0,a.yg)("h1",{id:"isolating-redux-sub-apps"},"Isolating Redux Sub-Apps"),(0,a.yg)("p",null,"Consider the case of a \u201cbig\u201d app (contained in a ",(0,a.yg)("inlineCode",{parentName:"p"},"<BigApp>")," component)\nthat embeds smaller \u201csub-apps\u201d (contained in ",(0,a.yg)("inlineCode",{parentName:"p"},"<SubApp>")," components):"),(0,a.yg)("pre",null,(0,a.yg)("code",{parentName:"pre",className:"language-js"},"import React, { Component } from 'react'\nimport SubApp from './subapp'\n\nclass BigApp extends Component {\n  render() {\n    return (\n      <div>\n        <SubApp />\n        <SubApp />\n        <SubApp />\n      </div>\n    )\n  }\n}\n")),(0,a.yg)("p",null,"These ",(0,a.yg)("inlineCode",{parentName:"p"},"<SubApp>"),"s will be completely independent. They won't share data or\nactions, and won't see or communicate with each other."),(0,a.yg)("p",null,"It's best not to mix this approach with standard Redux reducer composition.\nFor typical web apps, stick with reducer composition. For\n\u201cproduct hubs\u201d, \u201cdashboards\u201d, or enterprise software that groups disparate\ntools into a unified package, give the sub-app approach a try."),(0,a.yg)("p",null,"The sub-app approach is also useful for large teams that are divided by product\nor feature verticals. These teams can ship sub-apps independently or in combination\nwith an enclosing \u201capp shell\u201d."),(0,a.yg)("p",null,"Below is a sub-app's root connected component.\nAs usual, it can render more components, connected or not, as children.\nUsually we'd render it in ",(0,a.yg)("inlineCode",{parentName:"p"},"<Provider>")," and be done with it."),(0,a.yg)("pre",null,(0,a.yg)("code",{parentName:"pre",className:"language-js"},"class App extends Component { ... }\nexport default connect(mapStateToProps)(App)\n")),(0,a.yg)("p",null,"However, we don't have to call ",(0,a.yg)("inlineCode",{parentName:"p"},"ReactDOM.render(<Provider><App /></Provider>)"),"\nif we're interested in hiding the fact that the sub-app component is a Redux app."),(0,a.yg)("p",null,"Maybe we want to be able to run multiple instances of it in the same \u201cbigger\u201d app\nand keep it as a complete black box, with Redux being an implementation detail."),(0,a.yg)("p",null,"To hide Redux behind a React API, we can wrap it in a special component that\ninitializes the store in the constructor:"),(0,a.yg)("pre",null,(0,a.yg)("code",{parentName:"pre",className:"language-js"},"import React, { Component } from 'react'\nimport { Provider } from 'react-redux'\nimport { createStore } from 'redux'\nimport reducer from './reducers'\nimport App from './App'\n\nclass SubApp extends Component {\n  constructor(props) {\n    super(props)\n    this.store = createStore(reducer)\n  }\n\n  render() {\n    return (\n      <Provider store={this.store}>\n        <App />\n      </Provider>\n    )\n  }\n}\n")),(0,a.yg)("p",null,"This way every instance will be independent."),(0,a.yg)("p",null,"This pattern is ",(0,a.yg)("em",{parentName:"p"},"not")," recommended for parts of the same app that share data.\nHowever, it can be useful when the bigger app has zero access to the smaller apps' internals,\nand we'd like to keep the fact that they are implemented with Redux as an implementation detail.\nEach component instance will have its own store, so they won't \u201cknow\u201d about each other."))}d.isMDXComponent=!0},5680:(e,n,t)=>{t.d(n,{xA:()=>u,yg:()=>g});var r=t(6540);function a(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function o(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function p(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?o(Object(t),!0).forEach((function(n){a(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):o(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}function i(e,n){if(null==e)return{};var t,r,a=function(e,n){if(null==e)return{};var t,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++)t=o[r],n.indexOf(t)>=0||(a[t]=e[t]);return a}(e,n);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)t=o[r],n.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(a[t]=e[t])}return a}var s=r.createContext({}),l=function(e){var n=r.useContext(s),t=n;return e&&(t="function"==typeof e?e(n):p(p({},n),e)),t},u=function(e){var n=l(e.components);return r.createElement(s.Provider,{value:n},e.children)},c="mdxType",d={inlineCode:"code",wrapper:function(e){var n=e.children;return r.createElement(r.Fragment,{},n)}},m=r.forwardRef((function(e,n){var t=e.components,a=e.mdxType,o=e.originalType,s=e.parentName,u=i(e,["components","mdxType","originalType","parentName"]),c=l(t),m=a,g=c["".concat(s,".").concat(m)]||c[m]||d[m]||o;return t?r.createElement(g,p(p({ref:n},u),{},{components:t})):r.createElement(g,p({ref:n},u))}));function g(e,n){var t=arguments,a=n&&n.mdxType;if("string"==typeof e||a){var o=t.length,p=new Array(o);p[0]=m;var i={};for(var s in n)hasOwnProperty.call(n,s)&&(i[s]=n[s]);i.originalType=e,i[c]="string"==typeof e?e:a,p[1]=i;for(var l=2;l<o;l++)p[l]=t[l];return r.createElement.apply(null,p)}return r.createElement.apply(null,t)}m.displayName="MDXCreateElement"}}]);